!function(t,e){"use strict";t.fn.exists=function(){return 0!==this.length};var o=function(t,e){this.options={source:void 0,start:void 0,end:void 0,keyControl:!0,content:void 0,theme:{container:t,content:".slick-content",currentNo:".current-no",totalNo:".total",next:".next",prev:".prev"}};for(var o in this.options)this.options.hasOwnProperty(o)&&"theme"!==o&&(this.options[o]=void 0!==e[o]?e[o]:this.options[o]);if(void 0!==e.theme)for(var i in this.options.theme)this.options.theme.hasOwnProperty(i)&&(this.options.theme[i]=void 0!==e.theme[i]?e.theme[i]:this.options.theme[i]);this.options.content=this.options.theme.container+" "+this.options.theme.content,this.state={current:this.options.start-1,start:this.options.start,end:this.options.end,slide:{current:0,difference:this.options.start-1,total:this.options.end-this.options.start+1,maxHit:0}},this.init.apply(this)},i=o.prototype;i.hooks={next:function(){var t=this;if(t.state.slide.current<t.state.slide.total){var e=++t.state.slide.current+t.state.slide.difference;t.hooks.setSlide.apply(this,[e])}},prev:function(){var t=this;if(t.state.slide.current>1){var e=--t.state.slide.current+t.state.slide.difference;t.hooks.setSlide.apply(this,[e])}},setSlide:function(e){var o=this,i=o.hooks.slideStatus.apply(o,[e]);return o.state.slide.current=e-o.state.slide.difference,1===o.state.slide.current&&t(o.options.theme.container).animate({opacity:"1"},500),t(o.options.theme.container+" .skip"+o.options.theme.currentNo).is(":input")?t(o.options.theme.container+" "+o.options.theme.currentNo).val(o.state.slide.current):(t(o.options.theme.container+" .skip").val(o.state.slide.current),t(o.options.theme.container+" "+o.options.theme.currentNo).html(o.state.slide.current)),1===i?(t(o.options.content+" img.current").removeClass("current").addClass("cached-slide").hide(),t(o.options.content+" img[data-slide="+e+"]").removeClass("cached-slide").addClass("current").show(),o.state.current=e,t(o.options.theme.container+" .length").width(100*o.state.slide.current/o.state.slide.total+"%"),void o.hooks.getSlide.apply(o,[e+1])):void(2===i?o.hooks.slideSwitch.apply(this,[e]):0===i&&(t(o.options.content+" img.loading").off("load.slideSwitch").remove(),o.hooks.getSlide.apply(o,[e]),o.hooks.slideSwitch.apply(this,[e])))},getSlide:function(e){var o=this;0===o.hooks.slideStatus.apply(this,[e])&&e<=o.state.end&&(t(o.options.content).append('<img src="'+o.hooks.imagePath.apply(o,[e])+'" data-slide='+e+' class="loading">'),t(o.options.content+" img.loading").hide(),t(o.options.content+" img.loading").load(function(){t(this).removeClass("loading").addClass("cached-slide")}))},slideSwitch:function(e){var o=this;t(o.options.content+" img[data-slide="+e+"]").on("load.slideSwitch",function(){t(o.options.content+" img.current").removeClass("current").addClass("cached-slide").hide(),t(this).removeClass("cached-slide").addClass("current").show(),o.state.current=e,t(o.options.theme.container+" .length").width(100*(e+1)/o.state.slide.total+"%"),o.hooks.getSlide.apply(o,[e+1])})},slideStatus:function(e){var o=this,i=o.options.content+" img[data-slide="+e+"]";return t(i).exists()?t(i).hasClass("loading")?2:1:0},imagePath:function(t){var e=this.options.source.split("*");return e[0]+t+e[1]},skip:function(e){if(t.isNumeric(e)){var o=this,i=parseInt(e)+o.state.slide.difference;o.hooks.getSlide.apply(o,[i]),o.hooks.setSlide.apply(o,[i])}}},i.init=function(){var e=this;t(e.options.theme.container).css("opacity","0"),"string"==typeof e.options.source&&e.hooks.next.apply(e),t(e.options.theme.container+" "+e.options.theme.next).click(function(t){t.preventDefault(),e.hooks.next.apply(e)}),t(e.options.theme.container+" "+e.options.theme.prev).click(function(t){t.preventDefault(),e.hooks.prev.apply(e)}),t(e.options.theme.container+" "+e.options.theme.totalNo).html(e.state.end-e.state.start+1),e.options.keyControl&&t(document).keyup(function(o){39!==o.keyCode||t("input:focus").exists()||e.hooks.next.apply(e),37!==o.keyCode||t("input:focus").exists()||e.hooks.prev.apply(e)}),t(e.options.theme.container+" .skip").keypress(function(o){13===o.keyCode&&(e.hooks.skip.apply(e,[t(this).val()]),t(this).blur())})},window.Slick=o,o.next=function(t){t.constructor===o&&t.hooks.next.apply(t)},o.prev=function(t){t.constructor===o&&t.hooks.prev.apply(t)},o.skip=function(t,e){t.constructor===o&&t.hooks.skip.apply(t,[e])}}(jQuery,window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWNrLmpzIl0sIm5hbWVzIjpbIiQiLCJyb290IiwiZm4iLCJleGlzdHMiLCJ0aGlzIiwibGVuZ3RoIiwiU2xpY2siLCJjb250YWluZXIiLCJjb25maWciLCJvcHRpb25zIiwic291cmNlIiwidW5kZWZpbmVkIiwic3RhcnQiLCJlbmQiLCJrZXlDb250cm9sIiwiY29udGVudCIsInRoZW1lIiwiY3VycmVudE5vIiwidG90YWxObyIsIm5leHQiLCJwcmV2Iiwib3B0aW9uIiwiaGFzT3duUHJvcGVydHkiLCJ2YWwiLCJzdGF0ZSIsImN1cnJlbnQiLCJzbGlkZSIsImRpZmZlcmVuY2UiLCJ0b3RhbCIsIm1heEhpdCIsImluaXQiLCJhcHBseSIsIlNsaWNrUHJvdG8iLCJwcm90b3R5cGUiLCJob29rcyIsInNsaWNrIiwic3RlcCIsInNldFNsaWRlIiwic2xpZGVTdGF0dXMiLCJhbmltYXRlIiwib3BhY2l0eSIsImlzIiwiaHRtbCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJoaWRlIiwic2hvdyIsIndpZHRoIiwiZ2V0U2xpZGUiLCJzbGlkZVN3aXRjaCIsIm9mZiIsInJlbW92ZSIsImFwcGVuZCIsImltYWdlUGF0aCIsImxvYWQiLCJvbiIsImVsIiwiaGFzQ2xhc3MiLCJwYXJ0cyIsInNwbGl0Iiwic2tpcCIsImlzTnVtZXJpYyIsInBhcnNlSW50IiwiY3NzIiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJkb2N1bWVudCIsImtleXVwIiwia2V5Q29kZSIsImtleXByZXNzIiwiYmx1ciIsIndpbmRvdyIsImNvbnN0cnVjdG9yIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FPQyxTQUFVQSxFQUFHQyxHQUNWLFlBRUFELEdBQUVFLEdBQUdDLE9BQVMsV0FDVixNQUF1QixLQUFoQkMsS0FBS0MsT0FHaEIsSUFBSUMsR0FBUSxTQUFVQyxFQUFXQyxHQUM3QkosS0FBS0ssU0FDREMsT0FBUUMsT0FDUkMsTUFBT0QsT0FDUEUsSUFBS0YsT0FDTEcsWUFB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cmNlc0NvbnRlbnQiOlsiLyohXG4qIHNsaWNrLmpzXG4qIHYxLjAuMSAtIDIwMTMtMTItMjBcbiogaHR0cHM6Ly9naXRodWIuY29tL3NoYXNoYW5rbWVodGEvc2xpY2suanNcbiogKGMpIFNoYXNoYW5rIE1laHRhOyBNSVQgTGljZW5zZVxuKi9cbi8qZ2xvYmFsIGpRdWVyeSAqL1xuKGZ1bmN0aW9uICgkLCByb290KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJC5mbi5leGlzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCAhPT0gMDtcbiAgICB9O1xuXG4gICAgdmFyIFNsaWNrID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHNvdXJjZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3RhcnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAga2V5Q29udHJvbDogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRoZW1lOiB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICAgICAgICAgICAgY29udGVudDogJy5zbGljay1jb250ZW50JyxcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm86ICcuY3VycmVudC1ubycsXG4gICAgICAgICAgICAgICAgdG90YWxObzogJy50b3RhbCcsXG4gICAgICAgICAgICAgICAgbmV4dDogJy5uZXh0JyxcbiAgICAgICAgICAgICAgICBwcmV2OiAnLnByZXYnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIG9wdGlvbiBpbiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSAmJiBvcHRpb24gIT09ICd0aGVtZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IGNvbmZpZ1tvcHRpb25dICE9PSB1bmRlZmluZWQgPyBjb25maWdbb3B0aW9uXSA6IHRoaXMub3B0aW9uc1tvcHRpb25dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoY29uZmlnLnRoZW1lICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgZm9yICh2YXIgdmFsIGluIHRoaXMub3B0aW9ucy50aGVtZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGhlbWUuaGFzT3duUHJvcGVydHkodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudGhlbWVbdmFsXSA9IGNvbmZpZy50aGVtZVt2YWxdICE9PSB1bmRlZmluZWQgPyBjb25maWcudGhlbWVbdmFsXSA6IHRoaXMub3B0aW9ucy50aGVtZVt2YWxdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucy5jb250ZW50ID0gdGhpcy5vcHRpb25zLnRoZW1lLmNvbnRhaW5lciArICcgJyArIHRoaXMub3B0aW9ucy50aGVtZS5jb250ZW50O1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICAvLyBTdG9yZXMgc2xpZGUgdXJsIG5vIHRoYXQgaXMgdmlzaWJsZVxuICAgICAgICAgICAgY3VycmVudDogdGhpcy5vcHRpb25zLnN0YXJ0LTEsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLm9wdGlvbnMuc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHRoaXMub3B0aW9ucy5lbmQsXG5cbiAgICAgICAgICAgIC8vIFN0b3JlcyB2YWx1ZXMgdGhhdCBpcyBzaG93biBpbiBjb250cm9sc1xuICAgICAgICAgICAgc2xpZGU6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50OiAwLFxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2U6ICh0aGlzLm9wdGlvbnMuc3RhcnQgLSAxKSxcbiAgICAgICAgICAgICAgICB0b3RhbDogKHRoaXMub3B0aW9ucy5lbmQgLSB0aGlzLm9wdGlvbnMuc3RhcnQgKyAxKSxcbiAgICAgICAgICAgICAgICBtYXhIaXQ6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaW5pdC5hcHBseSh0aGlzKTtcbiAgICB9O1xuXG4gICAgdmFyIFNsaWNrUHJvdG8gPSBTbGljay5wcm90b3R5cGU7XG5cbiAgICBTbGlja1Byb3RvLmhvb2tzID0ge1xuXG4gICAgICAgIC8vIE1haW4gZnVuY3Rpb24gZm9yIGhhbmRsaW5nIG5leHQvZm9yd2FyZGluZyBvZiBzbGlkZXNcbiAgICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2xpY2sgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZihzbGljay5zdGF0ZS5zbGlkZS5jdXJyZW50IDwgc2xpY2suc3RhdGUuc2xpZGUudG90YWwpe1xuICAgICAgICAgICAgICAgIHZhciBzdGVwID0gKytzbGljay5zdGF0ZS5zbGlkZS5jdXJyZW50ICsgc2xpY2suc3RhdGUuc2xpZGUuZGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICBzbGljay5ob29rcy5zZXRTbGlkZS5hcHBseSh0aGlzLCBbc3RlcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIE1haW4gZnVuY3Rpb24gZm9yIGhhbmRsaW5nIGdvaW5nIGJhY2t3YXJkXG4gICAgICAgIHByZXY6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgc2xpY2sgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZihzbGljay5zdGF0ZS5zbGlkZS5jdXJyZW50ID4gMSl7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSAtLXNsaWNrLnN0YXRlLnNsaWRlLmN1cnJlbnQgKyBzbGljay5zdGF0ZS5zbGlkZS5kaWZmZXJlbmNlO1xuICAgICAgICAgICAgICAgIHNsaWNrLmhvb2tzLnNldFNsaWRlLmFwcGx5KHRoaXMsIFtzdGVwXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U2xpZGU6IGZ1bmN0aW9uKHN0ZXApe1xuICAgICAgICAgICAgdmFyIHNsaWNrID0gdGhpcztcbiAgICAgICAgICAgIHZhciBzbGlkZVN0YXR1cyA9IHNsaWNrLmhvb2tzLnNsaWRlU3RhdHVzLmFwcGx5KHNsaWNrLCBbc3RlcF0pO1xuICAgICAgICAgICAgc2xpY2suc3RhdGUuc2xpZGUuY3VycmVudCA9IHN0ZXAgLSBzbGljay5zdGF0ZS5zbGlkZS5kaWZmZXJlbmNlO1xuXG4gICAgICAgICAgICBpZihzbGljay5zdGF0ZS5zbGlkZS5jdXJyZW50ID09PSAxKXtcbiAgICAgICAgICAgICAgICAkKHNsaWNrLm9wdGlvbnMudGhlbWUuY29udGFpbmVyKS5hbmltYXRlKHsnb3BhY2l0eSc6ICcxJ30sIDUwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCQoc2xpY2sub3B0aW9ucy50aGVtZS5jb250YWluZXIgKyAnIC5za2lwJyArIHNsaWNrLm9wdGlvbnMudGhlbWUuY3VycmVudE5vKS5pcygnOmlucHV0Jykpe1xuICAgICAgICAgICAgICAgICQoc2xpY2sub3B0aW9ucy50aGVtZS5jb250YWluZXIgKyAnICcgKyBzbGljay5vcHRpb25zLnRoZW1lLmN1cnJlbnRObykudmFsKHNsaWNrLnN0YXRlLnNsaWRlLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJChzbGljay5vcHRpb25zLnRoZW1lLmNvbnRhaW5lciArICcgLnNraXAnKS52YWwoc2xpY2suc3RhdGUuc2xpZGUuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgJChzbGljay5vcHRpb25zLnRoZW1lLmNvbnRhaW5lciArICcgJyArIHNsaWNrLm9wdGlvbnMudGhlbWUuY3VycmVudE5vKS5odG1sKHNsaWNrLnN0YXRlLnNsaWRlLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHNsaWRlU3RhdHVzID09PSAxKXtcbiAgICAgICAgICAgICAgICAkKHNsaWNrLm9wdGlvbnMuY29udGVudCArICcgaW1nLmN1cnJlbnQnKS5yZW1vdmVDbGFzcygnY3VycmVudCcpLmFkZENsYXNzKCdjYWNoZWQtc2xpZGUnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJChzbGljay5vcHRpb25zLmNvbnRlbnQgKyAnIGltZ1tkYXRhLXNsaWRlPScgKyBzdGVwICsgJ10nKS5yZW1vdmVDbGFzcygnY2FjaGVkLXNsaWRlJykuYWRkQ2xhc3MoJ2N1cnJlbnQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgc2xpY2suc3RhdGUuY3VycmVudCA9IHN0ZXA7XG4gICAgICAgICAgICAgICAgJChzbGljay5vcHRpb25zLnRoZW1lLmNvbnRhaW5lciArICcgLmxlbmd0aCcpLndpZHRoKDEwMCAqIHNsaWNrLnN0YXRlLnNsaWRlLmN1cnJlbnQgLyBzbGljay5zdGF0ZS5zbGlkZS50b3RhbCArICclJyk7XG4gICAgICAgICAgICAgICAgc2xpY2suaG9va3MuZ2V0U2xpZGUuYXBwbHkoc2xpY2ssIFtzdGVwKzFdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHNsaWRlU3RhdHVzID09PSAyKXtcbiAgICAgICAgICAgICAgICBzbGljay5ob29rcy5zbGlkZVN3aXRjaC5hcHBseSh0aGlzLCBbc3RlcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihzbGlkZVN0YXR1cyA9PT0gMCl7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3Zpbmcgb24gbG9hZCBmcm9tIGFsbCBwcmV2aW91cyBzdGlsbCBsb2FkaW5nIGltYWdlcyBcbiAgICAgICAgICAgICAgICAkKHNsaWNrLm9wdGlvbnMuY29udGVudCArICcgaW1nLmxvYWRpbmcnKS5vZmYoJ2xvYWQuc2xpZGVTd2l0Y2gnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBzbGljay5ob29rcy5nZXRTbGlkZS5hcHBseShzbGljaywgW3N0ZXBdKTtcbiAgICAgICAgICAgICAgICBzbGljay5ob29rcy5zbGlkZVN3aXRjaC5hcHBseSh0aGlzLCBbc3RlcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEdldHMgdGhlIHNsaWRlIGZvciB0aGUgc3RlcFxuICAgICAgICBnZXRTbGlkZTogZnVuY3Rpb24oc3RlcCl7XG4gICAgICAgICAgICB2YXIgc2xpY2sgPSB0aGlzO1xuICAgICAgICAgICAgaWYoc2xpY2suaG9va3Muc2xpZGVTdGF0dXMuYXBwbHkodGhpcywgW3N0ZXBdKSA9PT0gMCAmJiBzdGVwIDw9IHNsaWNrLnN0YXRlLmVuZCl7XG4gICAgICAgICAgICAgICAgJChzbGljay5vcHRpb25zLmNvbnRlbnQpLmFwcGVuZCgnPGltZyBzcmM9XCInKyBzbGljay5ob29rcy5pbWFnZVBhdGguYXBwbHkoc2xpY2ssIFtzdGVwXSkgKydcIiBkYXRhLXNsaWRlPScgKyBzdGVwICsgJyBjbGFzcz1cImxvYWRpbmdcIj4nKTtcbiAgICAgICAgICAgICAgICAkKHNsaWNrLm9wdGlvbnMuY29udGVudCArICcgaW1nLmxvYWRpbmcnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJChzbGljay5vcHRpb25zLmNvbnRlbnQgKyAnIGltZy5sb2FkaW5nJykubG9hZChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdsb2FkaW5nJykuYWRkQ2xhc3MoJ2NhY2hlZC1zbGlkZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNsaWRlU3dpdGNoOiBmdW5jdGlvbihzdGVwKXtcbiAgICAgICAgICAgIHZhciBzbGljayA9IHRoaXM7XG4gICAgICAgICAgICAkKHNsaWNrLm9wdGlvbnMuY29udGVudCArICcgaW1nW2RhdGEtc2xpZGU9JyArIHN0ZXAgKyAnXScpLm9uKCdsb2FkLnNsaWRlU3dpdGNoJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKHNsaWNrLm9wdGlvbnMuY29udGVudCArICcgaW1nLmN1cnJlbnQnKS5yZW1vdmVDbGFzcygnY3VycmVudCcpLmFkZENsYXNzKCdjYWNoZWQtc2xpZGUnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnY2FjaGVkLXNsaWRlJykuYWRkQ2xhc3MoJ2N1cnJlbnQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgc2xpY2suc3RhdGUuY3VycmVudCA9IHN0ZXA7XG4gICAgICAgICAgICAgICAgJChzbGljay5vcHRpb25zLnRoZW1lLmNvbnRhaW5lciArICcgLmxlbmd0aCcpLndpZHRoKDEwMCAqIChzdGVwICsgMSkgLyBzbGljay5zdGF0ZS5zbGlkZS50b3RhbCArICclJyk7XG4gICAgICAgICAgICAgICAgc2xpY2suaG9va3MuZ2V0U2xpZGUuYXBwbHkoc2xpY2ssIFtzdGVwKzFdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFJldHVybnMgdGhlIHN0YXR1cyBvZiBhIHNsaWRlXG4gICAgICAgIC8vIDA6IE5vdCByZXF1ZXN0ZWQgeWV0XG4gICAgICAgIC8vIDE6IGNhY2hlZFxuICAgICAgICAvLyAyOiBsb2FkaW5nXG4gICAgICAgIHNsaWRlU3RhdHVzOiBmdW5jdGlvbihzdGVwKXtcbiAgICAgICAgICAgIHZhciBzbGljayA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZWwgPSBzbGljay5vcHRpb25zLmNvbnRlbnQgKyAnIGltZ1tkYXRhLXNsaWRlPScgKyBzdGVwICsgJ10nO1xuICAgICAgICAgICAgaWYoJChlbCkuZXhpc3RzKCkpe1xuICAgICAgICAgICAgICAgIGlmKCQoZWwpLmhhc0NsYXNzKCdsb2FkaW5nJykpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFJldHVybnMgdGhlIHBhdGggd2l0aCB0aGUgY3VycmVudCBubyBpbnNlcnRlZFxuICAgICAgICBpbWFnZVBhdGg6IGZ1bmN0aW9uKHN0ZXApe1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gdGhpcy5vcHRpb25zLnNvdXJjZS5zcGxpdCgnKicpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRzWzBdICsgc3RlcCArIHBhcnRzWzFdO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNraXA6IGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICBpZigkLmlzTnVtZXJpYyh2YWwpKXtcbiAgICAgICAgICAgICAgICB2YXIgc2xpY2sgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBwYXJzZUludCh2YWwpICsgc2xpY2suc3RhdGUuc2xpZGUuZGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICBzbGljay5ob29rcy5nZXRTbGlkZS5hcHBseShzbGljaywgW3N0ZXBdKTtcbiAgICAgICAgICAgICAgICBzbGljay5ob29rcy5zZXRTbGlkZS5hcHBseShzbGljaywgW3N0ZXBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrUHJvdG8uaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBzbGljayA9IHRoaXM7XG5cbiAgICAgICAgJChzbGljay5vcHRpb25zLnRoZW1lLmNvbnRhaW5lcikuY3NzKCdvcGFjaXR5JywgJzAnKTtcblxuICAgICAgICAvLyBTZXRzIHRoZSBmaXJzdCBzbGlkZVxuICAgICAgICBpZih0eXBlb2Ygc2xpY2sub3B0aW9ucy5zb3VyY2UgPT09ICdzdHJpbmcnKXtcbiAgICAgICAgICAgIHNsaWNrLmhvb2tzLm5leHQuYXBwbHkoc2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0YWNoZXMgZXZlbnQgbGlzdGVuZXJzIGZvciBuZXh0L3ByZXYgYnV0dG9uc1xuICAgICAgICAkKHNsaWNrLm9wdGlvbnMudGhlbWUuY29udGFpbmVyICsgJyAnICsgc2xpY2sub3B0aW9ucy50aGVtZS5uZXh0KS5jbGljayhmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNsaWNrLmhvb2tzLm5leHQuYXBwbHkoc2xpY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgJChzbGljay5vcHRpb25zLnRoZW1lLmNvbnRhaW5lciArICcgJyArIHNsaWNrLm9wdGlvbnMudGhlbWUucHJldikuY2xpY2soZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzbGljay5ob29rcy5wcmV2LmFwcGx5KHNsaWNrKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoc2xpY2sub3B0aW9ucy50aGVtZS5jb250YWluZXIgKyAnICcgKyBzbGljay5vcHRpb25zLnRoZW1lLnRvdGFsTm8pLmh0bWwoc2xpY2suc3RhdGUuZW5kIC0gc2xpY2suc3RhdGUuc3RhcnQgKyAxKTtcblxuICAgICAgICAvLyBBdGFjaGVzIGtleWJvYXJkIGNvbnRyb2xcbiAgICAgICAgaWYoc2xpY2sub3B0aW9ucy5rZXlDb250cm9sKXtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmtleXVwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKGUua2V5Q29kZSA9PT0gIDM5KSAmJiAhJCgnaW5wdXQ6Zm9jdXMnKS5leGlzdHMoKSkge1xuICAgICAgICAgICAgICAgICAgICBzbGljay5ob29rcy5uZXh0LmFwcGx5KHNsaWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChlLmtleUNvZGUgPT09ICAzNykgJiYgISQoJ2lucHV0OmZvY3VzJykuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpY2suaG9va3MucHJldi5hcHBseShzbGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICQoc2xpY2sub3B0aW9ucy50aGVtZS5jb250YWluZXIgKyAnIC5za2lwJykua2V5cHJlc3MoZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBpZihlLmtleUNvZGUgPT09IDEzKXtcbiAgICAgICAgICAgICAgICBzbGljay5ob29rcy5za2lwLmFwcGx5KHNsaWNrLCBbJCh0aGlzKS52YWwoKV0pO1xuICAgICAgICAgICAgICAgICQodGhpcykuYmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgd2luZG93LlNsaWNrID0gU2xpY2s7XG5cbiAgICAvLyBFeHBvc2luZyBwcm9ncmFtbWF0aWMgYWNjZXNzXG4gICAgU2xpY2submV4dCA9IGZ1bmN0aW9uKHNsaWNrKXtcbiAgICAgICAgaWYoc2xpY2suY29uc3RydWN0b3IgPT09IFNsaWNrKXtcbiAgICAgICAgICAgIHNsaWNrLmhvb2tzLm5leHQuYXBwbHkoc2xpY2spO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNsaWNrLnByZXYgPSBmdW5jdGlvbihzbGljayl7XG4gICAgICAgIGlmKHNsaWNrLmNvbnN0cnVjdG9yID09PSBTbGljayl7XG4gICAgICAgICAgICBzbGljay5ob29rcy5wcmV2LmFwcGx5KHNsaWNrKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTbGljay5za2lwID0gZnVuY3Rpb24oc2xpY2ssIHN0ZXApe1xuICAgICAgICBpZihzbGljay5jb25zdHJ1Y3RvciA9PT0gU2xpY2spe1xuICAgICAgICAgICAgc2xpY2suaG9va3Muc2tpcC5hcHBseShzbGljaywgW3N0ZXBdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0oalF1ZXJ5LCB3aW5kb3cpKTsiXX0=
